import csv
import os


world_nums = []
data = []
summary = []
class Trial:
    def __init__(self, world_num, trial_num, STATUS, reached_lg, total_lg):
        self.world_num = (world_num)
        self.trial_num = int(trial_num)
        self.STATUS = (STATUS)
        self.reached_lg = int(reached_lg)
        self.total_lg = int(total_lg)

# get all the world_nums and data
with open('baseline_random_5_trials.csv', 'r') as file:
    csv_reader = csv.DictReader(file)
    for row in csv_reader:
        data.append(row)
        if row['world_num'] not in world_nums:
            world_nums.append(row['world_num'])
print(data)
print(world_nums)

for world in world_nums:
    trial = 0
    for data_line in data:
        if data_line['world_num'] == world:
            trial+=1
            trial_ = Trial(
                data_line['world_num'],
                trial, 
                data_line['trial_result'],
                data_line['local_goal_reached'],
                data_line['num_lg'])
            print(trial_.reached_lg)
            if trial_.STATUS == 'AMCL TIMEOUT - MAX RETRIES EXCEEDED' or trial_.reached_lg == 0:
                break
            else: 
                summary.append(trial_)


print(len(summary))

